(function(e){var f,h=function(a,c){var d=a.attr("href").substr(2);this.head=a;this.element=e("#"+d).eq(0);this.isExists=0<this.element.length;this.hasParent=!1;this.parent=null;this.name=d;for(var d=0,k=c.length;d<k;d++){var b=this.element.parents("#"+c[d]);if(0<b.length){this.parent=b;this.hasParent=!0;break}}this.elements={};this.initElements(this)};h.prototype={toogle:function(){a.getActive().hide();this.show()},show:function(){this.hasParent?(this.parent.show(),e("html, body").animate({scrollTop:this.element.offset().top},
f.scrollTime)):(this.element.show(),a.active=this.name);e("."+f.activeClass).removeClass(f.activeClass);this.head.addClass(f.activeClass)},hide:function(){this.hasParent?this.parent.hide():(this.element.hide(),a.active="")},initElements:function(){var a=this,c=this.name;this.element.find("*[data-id]").each(function(){var d=e(this).data("id");e(this).click(function(){b.ignoreChange("#/"+c+"/"+d)});a.elements[d]=e(this)})},getElement:function(a){return this.elements[a]}};var a={_default:"",active:"",
_list:{},_onReady:function(){},scan:function(){var g={};names=[];e(this).find("a[href^='#'][data-tab='true']").each(function(){var b=e(this),c=b.attr("href").substr(1),d=b.data("active");g[c]=b;names.push(c);"undefined"===typeof d||"0"===d&&"false"===d||(a.active=c);b.attr("href","#/"+b.attr("href").substr(1))});for(var c=0,d=names.length,b="";c<d;c++)b=names[c],a._list[b]=new h(g[b],names);!a.active&&0<names.length&&(a.active=names[0]);a._default=a.active;c=0;d=names.length;for(b="";c<d;c++)b=names[c],
b!=a.active&&a.get(names[c]).hide();a.getActive().show();a.get(a._default).head.attr("href","#");a._onReady.apply(a)},onReady:function(b){"function"===typeof b&&(a._onReady=b)},getActive:function(){return a._list.hasOwnProperty(a.active)?a._list[a.active]:a._list[a._default]},get:function(b){return a._list.hasOwnProperty(b)?a._list[b]:a._list[a._default]}},b={_ignoreOne:!1,init:function(){e(window).on("hashchange",b.handle)},handle:function(){var g=/#\/([^\/]*)(\/(.+))?\/?/.exec(location.hash);if(""===
location.hash){var c=String(document.location.href).replace(/\#.*/,"").replace(location.protocol+"//"+location.host,"");window.history.replaceState(null,e("title").text(),c)}if(null==g)b.onChange(a._default);else b.onChange(g[1],g[3])},onChange:function(e,c){if(b._ignoreOne)b._ignoreOne=!1;else{var d=a.get(e),f=d.getElement(c);d.toogle();f&&f.click()}},ignoreChange:function(a){b._ignoreOne=!0;location.hash=a}};e.fn.tabify=function(g){f=e.extend({},e.fn.tabify.defaults,g);b.init();a.onReady(function(){e(document).ready(function(){b.handle()})});
return this.each(function(){a.scan.apply(this)})};e.fn.tabify.defaults={scrollTime:500,activeClass:"active"}})(jQuery);
